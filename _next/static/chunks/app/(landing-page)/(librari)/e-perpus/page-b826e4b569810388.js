(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[198],{182:function(e,t,n){Promise.resolve().then(n.bind(n,4051))},9367:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var l=n(7437),r=n(495),i=n(6648),o=n(2265);function a(e){let{keyData:t,imageSource:n,filePath:a,pathToView:s,author:c,title:u,description:d,publisherYear:f}=e,[h,p]=(0,o.useState)(!1),m=async()=>{if(p(!0),!a){p(!1);return}try{let e=await fetch(a),t=await e.blob(),n=window.URL.createObjectURL(t),l=document.createElement("a");l.href=n,l.download="".concat(u,".pdf"),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(n),p(!1)}catch(e){console.error("Error downloading PDF:",e),p(!1)}finally{p(!1)}};return(0,l.jsxs)("div",{className:"flex h-[500px] flex-col gap-10 bg-white p-5",children:[(0,l.jsx)("div",{className:"flex justify-center items-center w-full min-h-[200px] h-full overflow-hidden p-5 mt-5",children:(0,l.jsx)(i.default,{src:n,alt:"model",loading:"lazy",className:"w-full object-cover flex"})},t),(0,l.jsxs)("div",{className:"flex flex-col my-1 gap-1",children:[(0,l.jsx)("div",{className:"flex gap-3",children:(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Penulis: ",c,", ",f]})}),(0,l.jsx)("h3",{className:"font-bold text-3xl text-gray-700",children:null==u?void 0:u.toUpperCase()}),(0,l.jsx)("p",{className:"font-reguler text-sm text-gray-500",children:null!=d?d:"No Description"})]}),(0,l.jsx)("div",{className:"flex flex-col gap-2",children:(0,l.jsxs)("div",{className:"flex gap-2 w-full mb-2",children:[(0,l.jsx)(r.z,{size:"lg",variant:"destructive",className:"w-full",onClick:()=>window.open(s,"_blank"),children:"Lihat"}),(0,l.jsx)(r.z,{size:"lg",variant:"blue",className:"w-full",onClick:m,children:h?"Mendownload...":"Download PDF"})]})})]})}},6498:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var l=n(7437),r=n(2265),i=n(7440);let o=r.forwardRef((e,t)=>{let{className:n,type:r,...o}=e;return(0,l.jsx)("input",{type:r,className:(0,i.cn)("flex h-full min-h-10 rounded-md bg-transparent text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...o})});o.displayName="Input";var a=n(7135);function s(e){let{showLabel:t,label:n,inputType:r,inputName:i,value:s,placeholder:c,customClassName:u,onChange:d}=e;return(0,l.jsxs)("div",{className:"grid w-full items-center gap-1.5",children:[t&&(0,l.jsx)(a._,{htmlFor:i,children:n}),(0,l.jsx)(o,{type:r||"text",id:i,placeholder:c,className:u,value:s,onChange:d})]})}},4051:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var l=n(7437),r=n(495),i=n(8495),o=n(6498),a=n(7088),s=n(9367),c=n(2265),u=n(357);function d(){let[e,t]=(0,c.useState)([]),[n,d]=(0,c.useState)(!1),[f,h]=(0,c.useState)(""),p={list:"list",search:"search?search=".concat(null!=f?f:"")},m=async()=>{try{d(!0);let e=await fetch("https://admin.smpnegeri1dobo.sch.id/api/books/".concat(""===f?"".concat(p.list):"".concat(p.search))),n=await e.json();n&&t(null==n?void 0:n.data),d(!1)}catch(e){console.log("Error fetching data:",e),d(!1)}};return(0,c.useEffect)(()=>{m()},[]),(0,l.jsxs)("div",{className:"flex flex-col gap-10 w-full min-h-screen h-full","data-aos":"fade-up",children:[(0,l.jsx)("h1",{className:"text-center text-white 2xl:text-6xl lg:text-4xl text-2xl font-semibold mt-44 mb-8 uppercase",children:"E-Perpus"}),(0,l.jsxs)("div",{className:"flex lg:flex-row flex-col items-center justify-between w-full gap-3 lg:p-5 p-3 bg-white overflow-hidden",children:[(0,l.jsx)(o.p,{inputType:"text",inputName:"e-raport",placeholder:"Ketik Judul Buku",customClassName:"bg-gray-100 rounded-lg flex px-5 text-lg",value:f,onChange:e=>h(e.target.value)}),(0,l.jsx)(r.z,{size:"lg",variant:"destructive",className:"text-lg lg:w-32 w-full",onClick:m,disabled:""===f||n,children:n?"...":"Cari"})]}),n?(0,l.jsx)("div",{className:"flex justify-center items-center w-full",children:(0,l.jsx)("h3",{className:"text-white font-semibold text-2xl",children:"Loading..."})}):(null==e?void 0:e.length)===0||void 0===e?(0,l.jsx)("h3",{className:"text-center font-bold text-white text-4xl",children:"Tidak Ada Data / Buku Kosong"}):null==e?void 0:e.map(e=>{var t;return(0,l.jsx)("div",{className:"grid lg:grid-cols-4 md:grid-cols-2 grid-cols-1 gap-5 justify-center",children:(0,l.jsx)(s.Z,{keyData:null==e?void 0:e.id,imageSource:null!==(t=null==e?void 0:e.images)&&void 0!==t?t:a.default,title:null==e?void 0:e.title,author:null==e?void 0:e.author,publisherYear:null==e?void 0:e.publication_year,description:null==e?void 0:e.description,filePath:"".concat(u.env.API_BASE_URL,"/download/books/").concat(null==e?void 0:e.id),pathToView:null==e?void 0:e.pdf})},null==e?void 0:e.id)}),(0,l.jsx)(i.default,{})]})}},7135:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var l=n(7437),r=n(2265),i=n(8364),o=n(2218),a=n(7440);let s=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,l.jsx)(i.f,{ref:t,className:(0,a.cn)(s(),n),...r})});c.displayName=i.f.displayName},357:function(e,t,n){"use strict";var l,r;e.exports=(null==(l=n.g.process)?void 0:l.env)&&"object"==typeof(null==(r=n.g.process)?void 0:r.env)?n.g.process:n(8081)},8081:function(e){!function(){var t={229:function(e){var t,n,l,r=e.exports={};function i(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s=[],c=!1,u=-1;function d(){c&&l&&(c=!1,l.length?s=l.concat(s):u=-1,s.length&&f())}function f(){if(!c){var e=a(d);c=!0;for(var t=s.length;t;){for(l=s,s=[];++u<t;)l&&l[u].run();u=-1,t=s.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||c||a(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function l(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}},o=!0;try{t[e](i,i.exports,l),o=!1}finally{o&&delete n[e]}return i.exports}l.ab="//";var r=l(229);e.exports=r}()},7088:function(e,t,n){"use strict";n.r(t),t.default={src:"/_next/static/media/example-6.ee3f6d5f.svg",height:512,width:669,blurWidth:0,blurHeight:0}},8364:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var l=n(2988),r=n(2265),i=n(5171);let o=(0,r.forwardRef)((e,t)=>(0,r.createElement)(i.WV.label,(0,l.Z)({},e,{ref:t,onMouseDown:t=>{var n;null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}})))},5171:function(e,t,n){"use strict";n.d(t,{WV:function(){return a},jH:function(){return s}});var l=n(2988),r=n(2265),i=n(4887),o=n(1538);let a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=(0,r.forwardRef)((e,n)=>{let{asChild:i,...a}=e,s=i?o.g7:t;return(0,r.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,r.createElement)(s,(0,l.Z)({},a,{ref:n}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function s(e,t){e&&(0,i.flushSync)(()=>e.dispatchEvent(t))}},2218:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});let l=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,r=function(){for(var e,t,n=0,l="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,l,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(l=e(t[n]))&&(r&&(r+=" "),r+=l);else for(n in t)t[n]&&(r&&(r+=" "),r+=n)}return r}(e))&&(l&&(l+=" "),l+=t);return l},i=(e,t)=>n=>{var i;if((null==t?void 0:t.variants)==null)return r(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:o,defaultVariants:a}=t,s=Object.keys(o).map(e=>{let t=null==n?void 0:n[e],r=null==a?void 0:a[e];if(null===t)return null;let i=l(t)||l(r);return o[e][i]}),c=n&&Object.entries(n).reduce((e,t)=>{let[n,l]=t;return void 0===l||(e[n]=l),e},{});return r(e,s,null==t?void 0:null===(i=t.compoundVariants)||void 0===i?void 0:i.reduce((e,t)=>{let{class:n,className:l,...r}=t;return Object.entries(r).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...c}[t]):({...a,...c})[t]===n})?[...e,n,l]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[665,699,30,3,345,971,23,744],function(){return e(e.s=182)}),_N_E=e.O()}]);