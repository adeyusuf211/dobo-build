(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2198],{182:function(e,t,n){Promise.resolve().then(n.bind(n,4051))},9367:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7437),l=n(495),i=n(6648),o=n(2265);function a(e){let{keyData:t,imageSource:n,filePath:a,pathToView:s,author:c,title:u,description:d,publisherYear:f}=e,[h,m]=(0,o.useState)(!1),p=async()=>{if(m(!0),!a){m(!1);return}try{let e=await fetch(a),t=await e.blob(),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="".concat(u,".pdf"),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n),m(!1)}catch(e){console.error("Error downloading PDF:",e),m(!1)}finally{m(!1)}};return(0,r.jsxs)("div",{className:"flex h-[500px] flex-col gap-10 bg-white p-5",children:[(0,r.jsx)("div",{className:"flex justify-center items-center w-full min-h-[200px] h-full overflow-hidden p-5 mt-5",children:(0,r.jsx)(i.default,{src:n,alt:"model",loading:"lazy",className:"w-full object-cover flex"})},t),(0,r.jsxs)("div",{className:"flex flex-col my-3 gap-1",children:[(0,r.jsx)("div",{className:"flex gap-3",children:(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Penulis: ",c,", ",f]})}),(0,r.jsx)("h3",{className:"font-bold text-3xl text-gray-700",children:null==u?void 0:u.toUpperCase()}),(0,r.jsx)("p",{className:"font-reguler text-sm text-gray-500",children:null!=d?d:"No Description"})]}),(0,r.jsx)("div",{className:"flex flex-col gap-2",children:(0,r.jsxs)("div",{className:"flex gap-2 w-full mb-2",children:[(0,r.jsx)(l.z,{size:"lg",variant:"destructive",className:"w-full",onClick:()=>window.open(s,"_blank"),children:"Lihat"}),(0,r.jsx)(l.z,{size:"lg",variant:"blue",className:"w-full",onClick:p,children:h?"Mendownload...":"Download PDF"})]})})]})}},6498:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(7437),l=n(2265),i=n(7440);let o=l.forwardRef((e,t)=>{let{className:n,type:l,...o}=e;return(0,r.jsx)("input",{type:l,className:(0,i.cn)("flex h-full min-h-10 rounded-md bg-transparent text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...o})});o.displayName="Input";var a=n(7135);function s(e){let{showLabel:t,label:n,inputType:l,inputName:i,value:s,placeholder:c,customClassName:u,onChange:d}=e;return(0,r.jsxs)("div",{className:"grid w-full items-center gap-1.5",children:[t&&(0,r.jsx)(a._,{htmlFor:i,children:n}),(0,r.jsx)(o,{type:l||"text",id:i,placeholder:c,className:u,value:s,onChange:d})]})}},4051:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var r=n(7437),l=n(495),i=n(8495),o=n(6498),a=n(7088),s=n(9367),c=n(2265),u=n(357);function d(){let[e,t]=(0,c.useState)([]),[n,d]=(0,c.useState)(!1),[f,h]=(0,c.useState)(""),m={list:"list",search:"search?search=".concat(null!=f?f:"")},p=async()=>{try{d(!0);let e=await fetch("https://admin.smpnegeri1dobo.sch.id/api/books/".concat(""===f?"".concat(m.list):"".concat(m.search))),n=await e.json();n&&t(null==n?void 0:n.data),d(!1)}catch(e){console.log("Error fetching data:",e),d(!1)}};return(0,c.useEffect)(()=>{p()},[]),(0,r.jsxs)("div",{className:"flex flex-col gap-10 w-full min-h-screen h-full","data-aos":"fade-up",children:[(0,r.jsx)("h1",{className:"text-center text-white 2xl:text-6xl lg:text-4xl text-xl font-semibold lg:mt-44 mt-20 mb-8 uppercase",children:"E-Perpus"}),(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3 w-full p-5 bg-white",children:[(0,r.jsx)(o.p,{inputType:"text",inputName:"e-raport",placeholder:"Ketik Judul Buku",customClassName:"bg-gray-100 rounded-lg flex px-5 text-lg",value:f,onChange:e=>h(e.target.value)}),(0,r.jsx)(l.z,{size:"lg",variant:"destructive",className:"text-lg",onClick:p,disabled:""===f||n,children:n?"...":"Cari"})]}),n?(0,r.jsx)("div",{className:"flex justify-center items-center w-full",children:(0,r.jsx)("h3",{className:"text-white font-semibold text-2xl",children:"Loading..."})}):(null==e?void 0:e.length)===0||void 0===e?(0,r.jsx)("h3",{className:"text-center font-bold text-white text-4xl",children:"Tidak Ada Data / Buku Kosong"}):null==e?void 0:e.map(e=>{var t;return(0,r.jsx)("div",{className:"grid lg:grid-cols-4 md:grid-cols-2 grid-cols-1 gap-5 justify-center",children:(0,r.jsx)(s.Z,{keyData:null==e?void 0:e.id,imageSource:null!==(t=null==e?void 0:e.images)&&void 0!==t?t:a.default,title:null==e?void 0:e.title,author:null==e?void 0:e.author,publisherYear:null==e?void 0:e.publication_year,description:null==e?void 0:e.description,filePath:"".concat(u.env.API_BASE_URL,"/download/books/").concat(null==e?void 0:e.id),pathToView:null==e?void 0:e.pdf})},null==e?void 0:e.id)}),(0,r.jsx)(i.default,{})]})}},7135:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(7437),l=n(2265),i=n(8364),o=n(2218),a=n(7440);let s=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(i.f,{ref:t,className:(0,a.cn)(s(),n),...l})});c.displayName=i.f.displayName},357:function(e,t,n){"use strict";var r,l;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(l=n.g.process)?void 0:l.env)?n.g.process:n(8081)},8081:function(e){!function(){var t={229:function(e){var t,n,r,l=e.exports={};function i(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s=[],c=!1,u=-1;function d(){c&&r&&(c=!1,r.length?s=r.concat(s):u=-1,s.length&&f())}function f(){if(!c){var e=a(d);c=!0;for(var t=s.length;t;){for(r=s,s=[];++u<t;)r&&r[u].run();u=-1,t=s.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}l.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||c||a(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=m,l.addListener=m,l.once=m,l.off=m,l.removeListener=m,l.removeAllListeners=m,l.emit=m,l.prependListener=m,l.prependOnceListener=m,l.listeners=function(e){return[]},l.binding=function(e){throw Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw Error("process.chdir is not supported")},l.umask=function(){return 0}}},n={};function r(e){var l=n[e];if(void 0!==l)return l.exports;var i=n[e]={exports:{}},o=!0;try{t[e](i,i.exports,r),o=!1}finally{o&&delete n[e]}return i.exports}r.ab="//";var l=r(229);e.exports=l}()},7088:function(e,t,n){"use strict";n.r(t),t.default={src:"/_next/static/media/example-6.ee3f6d5f.svg",height:512,width:669,blurWidth:0,blurHeight:0}},8364:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var r=n(2988),l=n(2265),i=n(5171);let o=(0,l.forwardRef)((e,t)=>(0,l.createElement)(i.WV.label,(0,r.Z)({},e,{ref:t,onMouseDown:t=>{var n;null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}})))},5171:function(e,t,n){"use strict";n.d(t,{WV:function(){return a},jH:function(){return s}});var r=n(2988),l=n(2265),i=n(4887),o=n(1538);let a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=(0,l.forwardRef)((e,n)=>{let{asChild:i,...a}=e,s=i?o.g7:t;return(0,l.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,l.createElement)(s,(0,r.Z)({},a,{ref:n}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function s(e,t){e&&(0,i.flushSync)(()=>e.dispatchEvent(t))}},2218:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});let r=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,l=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,r,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(l&&(l+=" "),l+=r);else for(n in t)t[n]&&(l&&(l+=" "),l+=n)}return l}(e))&&(r&&(r+=" "),r+=t);return r},i=(e,t)=>n=>{var i;if((null==t?void 0:t.variants)==null)return l(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:o,defaultVariants:a}=t,s=Object.keys(o).map(e=>{let t=null==n?void 0:n[e],l=null==a?void 0:a[e];if(null===t)return null;let i=r(t)||r(l);return o[e][i]}),c=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return l(e,s,null==t?void 0:null===(i=t.compoundVariants)||void 0===i?void 0:i.reduce((e,t)=>{let{class:n,className:r,...l}=t;return Object.entries(l).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...c}[t]):({...a,...c})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[3665,7699,4030,1003,3345,2971,7023,1744],function(){return e(e.s=182)}),_N_E=e.O()}]);